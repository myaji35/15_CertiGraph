# Dokploy Configuration
name: examsgraph
type: compose
services:
  - name: backend
    port: 3030
    healthcheck:
      path: /health
      interval: 30s
  - name: frontend
    port: 3000
    healthcheck:
      path: /
      interval: 30s
environment:
  - DATABASE_URL
  - JWT_SECRET_KEY
  - CLERK_SECRET_KEY
  - CLERK_PEM_PUBLIC_KEY
  - NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
  - UPSTAGE_API_KEY
  - OPENAI_API_KEY
  - GOOGLE_API_KEY
  - DOMAIN
deploy:
  strategy: rolling
  replicas: 1