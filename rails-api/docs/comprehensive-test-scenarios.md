# 📋 Certi-Graph 종합 테스트 시나리오

## 🎯 테스트 목표
- 모든 핵심 기능의 작동 검증
- UI/UX 사용성 평가
- 데이터 처리 파이프라인 검증
- 오류 처리 및 복구 시나리오 테스트

---

## 1. 사용자 인증 및 권한 (P0)

### 1.1 회원가입 플로우
```gherkin
Given: 비로그인 사용자가 홈페이지 방문
When: "회원가입" 버튼 클릭
Then:
  - 이메일/비밀번호 입력 폼 표시
  - Google OAuth 옵션 표시
  - 입력 검증 (이메일 형식, 비밀번호 강도)
  - 중복 이메일 체크
  - 가입 성공 시 자동 로그인 및 대시보드 이동
```

### 1.2 로그인/로그아웃
```gherkin
Given: 등록된 사용자
When: 로그인 시도
Then:
  - 이메일/비밀번호 검증
  - 실패 시 명확한 에러 메시지
  - 성공 시 이전 페이지 또는 대시보드로 리다이렉트
  - 세션 유지 (Remember me 옵션)
  - 로그아웃 시 세션 완전 제거
```

### 1.3 VIP Pass 권한
```gherkin
Given: 일반 사용자
When: 프리미엄 기능 접근 시도
Then:
  - VIP Pass 구매 유도 모달 표시
  - 결제 완료 시 즉시 권한 부여
  - 권한 만료일 표시
  - 만료 7일 전 알림
```

---

## 2. Study Set 관리 (P0)

### 2.1 Study Set CRUD
```gherkin
Feature: Study Set 생성
  Given: 로그인한 사용자
  When: "새 문제집 만들기" 클릭
  Then:
    - 제목 (필수, 최대 100자)
    - 설명 (선택, 최대 500자)
    - 자격증 종류 선택 (드롭다운)
    - 시험일 설정 (달력 위젯)
    - 생성 즉시 해당 페이지로 이동

  Validation:
    - 제목 중복 체크 (사용자별)
    - 미래 날짜만 선택 가능 (시험일)
    - 필수 필드 누락 시 인라인 에러
```

### 2.2 Study Set 목록
```gherkin
Given: 여러 Study Set 보유 사용자
When: 대시보드 또는 Study Sets 페이지 방문
Then:
  - 카드 형식으로 표시
  - 각 카드에 표시될 정보:
    * 제목, 설명
    * 진행률 (시각적 프로그레스바)
    * 총 문제 수 / 푼 문제 수
    * 마지막 학습일
    * D-Day 표시
  - 정렬 옵션: 최신순, 이름순, 진행률순
  - 검색 기능
  - 페이지네이션 (20개씩)
```

---

## 3. PDF 업로드 및 처리 (P0) ⚠️ 현재 미작동

### 3.1 PDF 업로드 플로우
```gherkin
Feature: PDF 파일 업로드
  Given: Study Set 상세 페이지
  When: PDF 업로드 버튼 클릭
  Then:
    Step 1: 파일 선택
      - 드래그 앤 드롭 지원
      - 파일 탐색기로 선택
      - 파일 크기 제한 표시 (50MB)
      - 지원 형식 표시 (.pdf)

    Step 2: 업로드 진행
      - 실시간 프로그레스바
      - 취소 버튼
      - 업로드 속도 표시
      - 남은 시간 예상

    Step 3: 처리 상태
      - "처리 중" 상태 표시
      - 예상 소요 시간 안내
      - 백그라운드 처리
      - 완료 시 알림
```

### 3.2 PDF 처리 파이프라인
```gherkin
Feature: PDF 문제 추출
  Given: 업로드된 PDF 파일
  When: "학습 시작" 버튼 클릭
  Then:
    Processing Steps:
      1. PDF 텍스트 추출
      2. 문제 패턴 인식
         - 문제 번호 (1., 2., ...)
         - 선택지 (①②③④⑤)
         - 지문 구분
      3. 데이터 구조화
      4. Question 레코드 생성
      5. 정답 매핑

    Error Handling:
      - 파싱 실패 시 수동 입력 옵션
      - 부분 성공 시 성공한 문제만 저장
      - 재시도 옵션
```

---

## 4. 시험 모드 (P0) ⚠️ 현재 미작동

### 4.1 시험 설정
```gherkin
Given: 문제가 있는 Study Set
When: "시험 보기" 버튼 클릭
Then:
  Configuration Modal:
    - 문제 수 선택 (10, 20, 30, 전체)
    - 시간 제한 설정 (선택)
    - 문제 순서 (순차/랜덤)
    - 선택지 순서 셔플 (필수)
    - 시험 모드 (연습/실전)
```

### 4.2 시험 인터페이스
```gherkin
Feature: CBT 시험 화면
  Layout:
    상단: 타이머, 진행률, 일시정지/종료 버튼
    좌측: 문제 네비게이션 (번호 클릭으로 이동)
    중앙: 현재 문제 및 선택지
    하단: 이전/다음, 북마크 버튼

  Features:
    - 답안 선택 시 즉시 저장
    - 북마크한 문제 별도 표시
    - 미답 문제 다른 색상 표시
    - 마지막 문제에서 제출 버튼 활성화
```

### 4.3 결과 분석
```gherkin
Given: 시험 완료
When: 제출 버튼 클릭
Then:
  Result Page:
    - 점수 및 정답률
    - 문제별 정답/오답 표시
    - 소요 시간
    - 카테고리별 분석
    - 틀린 문제 즉시 복습 옵션
    - 오답노트 자동 생성
```

---

## 5. 오답노트 (P1)

### 5.1 오답 자동 수집
```gherkin
Given: 시험에서 틀린 문제
When: 자동으로 오답노트에 추가
Then:
  - 문제, 선택한 답, 정답 저장
  - 틀린 날짜 및 횟수 기록
  - 카테고리/태그 자동 분류
```

### 5.2 오답 복습
```gherkin
Feature: 오답 복습 모드
  Options:
    - 전체 오답 복습
    - 특정 기간 오답만
    - 특정 카테고리만
    - 반복 오답 우선

  Review Process:
    - 문제 재출제
    - 정답 시 오답노트에서 제거 옵션
    - 해설 보기
    - 관련 개념 학습 링크
```

---

## 6. 학습 분석 (P1)

### 6.1 대시보드 통계
```gherkin
Given: 학습 데이터 축적
When: 대시보드 방문
Then:
  Display:
    - 오늘의 학습량 (문제 수, 시간)
    - 주간/월간 학습 그래프
    - 정답률 추이
    - 약점 과목 TOP 5
    - 예상 합격 확률 (ML 기반)
```

### 6.2 Knowledge Graph (P2)
```gherkin
Feature: 3D 지식 그래프
  Visual Elements:
    - 노드: 개념/주제
    - 엣지: 연관 관계
    - 색상: 숙련도 (빨강-약함, 초록-강함)
    - 크기: 중요도

  Interactions:
    - 노드 클릭: 관련 문제 목록
    - 드래그: 그래프 회전
    - 줌: 확대/축소
    - 필터: 특정 영역만 표시
```

---

## 7. 오류 시나리오

### 7.1 네트워크 오류
```gherkin
Given: 작업 중 네트워크 끊김
Then:
  - 자동 저장된 데이터 복구
  - 재연결 시 자동 동기화
  - 오프라인 모드 제공 (읽기 전용)
```

### 7.2 데이터 오류
```gherkin
Given: 손상된 데이터
Then:
  - 백업에서 복구 옵션
  - 관리자 알림
  - 사용자에게 명확한 안내
```

---

## 8. 성능 테스트

### 8.1 로딩 시간
- 페이지 초기 로드: < 2초
- 문제 간 전환: < 0.5초
- PDF 업로드 (10MB): < 30초
- 검색 결과: < 1초

### 8.2 동시 사용자
- 100명 동시 접속 처리
- 10개 동시 PDF 처리
- 실시간 순위 업데이트

---

## 9. 접근성 테스트

### 9.1 모바일 반응형
- 모든 기능 모바일에서 사용 가능
- 터치 제스처 최적화
- 세로/가로 모드 전환

### 9.2 웹 접근성
- 키보드만으로 모든 기능 사용
- 스크린 리더 지원
- 고대비 모드
- 글자 크기 조절

---

## 10. 보안 테스트

### 10.1 인증/인가
- JWT 토큰 만료 처리
- CSRF 방지
- XSS 방지
- SQL Injection 방지

### 10.2 데이터 보호
- PDF 파일 암호화 저장
- 개인정보 암호화
- 백업 암호화
- 접근 로그 기록

---

## 🔴 현재 미구현/오류 기능 목록

1. **PDF 처리 파이프라인** - pdf-reader gem만으로는 부족
2. **시험 모드** - 전체 미구현
3. **오답노트** - 미구현
4. **학습 분석** - 미구현
5. **Knowledge Graph** - 미구현
6. **실시간 진행률** - 미구현
7. **결제 시스템** - 미구현
8. **알림 시스템** - 미구현
9. **검색 기능** - 미구현
10. **모바일 반응형** - 부분적

## 📊 테스트 커버리지 목표

- Unit Tests: 80%
- Integration Tests: 60%
- E2E Tests: 핵심 플로우 100%
- Performance Tests: 주요 API 100%